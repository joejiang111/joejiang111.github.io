<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8" />
    <title>D3 test</title>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <style>
        .funkyText {
            font-family: fantasy;
            font-size: 50px;
            font-weight: bold;
        }
    </style>
    </head>
    
    <body>
    <h1 id="title">My Title</h1>


    <svg id="circle-viz" >
        
    </svg>
    <button id="btn1" onclick="drawCircles(data1)">Data 1</button>
    
    <button id="btn2" onclick="drawCircles(data2)">Data 2</button>
    <script>
        var color = "red";
        var title = d3.select("#title");
        title
            .style("color", "red")
            .attr("class", "funkyText");



        var data1 = [
            {
                country:"usa",
                value:2131241
            },{
                country:"mxn",
                value:1231941
            }
        ]
        var data2 = [
            {
                country:"chn",
                value:8273169
            },{
                country:"mxn",
                value:1728731
            }
        ]
        
        function drawCircles(dataArray){
            function circlePos(){
                return Math.random() * 200 + 50;
            }


            var circles = d3.select("#circle-viz").selectAll("circle")
                .data(dataArray, function(d){
                    return d.country;
                });

                circles.enter().append("circle")
                    .attr("fill", function(d){
                        if(d.country == "usa"){
                            return "blue";
                        }else if(d.country == "chn"){
                            return "red";
                        }else if(d.country == "mxn"){
                            return "green";
                        }
                    })
                    .attr("cy", "100")
                    .attr("cx", circlePos)
                    .attr("r", "0")
                    .transition().duration(1000)
                    .attr("r", "100")
                    .transition().duration(300)
                        .attr("r", "25");

                circles
                    .transition().duration(1000)
                    .attr("cx", circlePos)
                    
                
                circles.exit()
                    .transition().duration(1000)
                    .attr("r", "0")
                    .remove();

        }
        

       



    </script>





    </body>






</html>